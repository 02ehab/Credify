<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customer Segmentation - Nebify</title>
  <meta name="description" content="AI-powered customer segmentation analysis to optimize your credit strategy and improve collection outcomes.">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="pages.css">
  <link rel="stylesheet" href="chatbot.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <img src="logo.png" alt="Nebify" class="logo-img" />
        <span class="logo-text">Nebify</span>
      </div>

      <!-- Guest navbar (default) -->
      <div class="nav-menu" id="navMenuGuest">
        <a href="index.html" class="nav-link">Home</a>
        <a href="investment.html" class="nav-link">Investment</a>
        <a href="risk-analysis.html" class="nav-link">Risk Analysis</a>
        <a href="collection-tools.html" class="nav-link">Collection Tools</a>
        <a href="market-insights.html" class="nav-link">Market Insights</a>
        <a href="customer-segmentation.html" class="nav-link active">Customer Segmentation</a>
      </div>

      <!-- Authenticated navbar (hidden until login) -->
      <div class="nav-menu" id="navMenuAuth" style="display:none;">
        <a href="index.html" class="nav-link">Home</a>
        <a href="credit-overview.html" class="nav-link">Credit Overview</a>
        <a href="customer-records.html" class="nav-link">customer records</a>
        <a href="notifications.html" class="nav-link">Notifications</a>
        <a href="profile.html" class="nav-link">Profile</a>
      </div>

      <div class="nav-actions">
        <!-- Guest actions -->
        <div id="guestActions">
          <a href="login.html" class="btn btn-outline">Sign In</a>
          <a href="register.html" class="btn btn-primary">Get Started</a>
        </div>
        <!-- Auth actions -->
        <div id="authActions" style="display:none;">
          <button class="btn btn-outline" id="logoutBtn">
            <span class="material-symbols-rounded">logout</span>
            Logout
          </button>
        </div>
        <button class="nav-toggle" id="navToggle">
          <span class="material-symbols-rounded">menu</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Mobile Drawer Side Menu -->
  <div class="drawer-overlay" id="drawerOverlay"></div>
  <aside class="mobile-drawer" id="mobileDrawer" aria-hidden="true">
    <div class="drawer-header">
      <div class="nav-logo">
        <img src="logo.png" alt="Nebify" class="logo-img" />
        <span class="logo-text">Nebify</span>
      </div>
      <button class="drawer-close" id="drawerClose" aria-label="Close menu">
        <span class="material-symbols-rounded">close</span>
      </button>
    </div>
    <nav class="drawer-menu">
      <!-- Guest drawer -->
      <div id="drawerGuest">
        <a href="index.html" class="drawer-link"><span class="material-symbols-rounded">home</span> Home</a>
        <a href="investment.html" class="drawer-link"><span class="material-symbols-rounded">trending_up</span> Investment</a>
        <a href="risk-analysis.html" class="drawer-link"><span class="material-symbols-rounded">analytics</span> Risk Analysis</a>
        <a href="collection-tools.html" class="drawer-link"><span class="material-symbols-rounded">build</span> Collection Tools</a>
        <a href="market-insights.html" class="drawer-link"><span class="material-symbols-rounded">insights</span> Market Insights</a>
        <a href="customer-segmentation.html" class="drawer-link"><span class="material-symbols-rounded">groups</span> Customer Segmentation</a>
        <a href="login.html" class="drawer-link"><span class="material-symbols-rounded">login</span> Sign In</a>
        <a href="register.html" class="drawer-link"><span class="material-symbols-rounded">person_add</span> Get Started</a>
      </div>
      <!-- Auth drawer -->
      <div id="drawerAuth" style="display:none;">
        <a href="index.html" class="drawer-link"><span class="material-symbols-rounded">home</span> Home</a>
        <a href="credit-overview.html" class="drawer-link"><span class="material-symbols-rounded">credit_score</span> Credit Overview</a>
        <a href="customer-records.html" class="drawer-link">
  <span class="material-symbols-rounded">assignment</span>
   customer records
</a>
        <a href="notifications.html" class="drawer-link"><span class="material-symbols-rounded">notifications</span> Notifications</a>
        <a href="profile.html" class="drawer-link"><span class="material-symbols-rounded">person</span> Profile</a>
        <button class="drawer-link" id="drawerLogout" style="background:none;border:none;cursor:pointer;">
          <span class="material-symbols-rounded">logout</span> Logout
        </button>
      </div>
    </nav>
  </aside>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-content">
        <h1 class="hero-title">
          Customer
          <span class="gradient-text">Segmentation</span>
        </h1>
        <p class="hero-description">
          AI-powered customer segmentation analysis to optimize your credit strategy and improve collection outcomes.
        </p>
        <div class="hero-actions">
          <button class="btn btn-primary btn-large" onclick="runSegmentation()">
            <span class="material-symbols-rounded">model_training</span>
            Run Analysis
          </button>
          <button class="btn btn-outline btn-large" onclick="createStrategy()">
            <span class="material-symbols-rounded">strategy</span>
            Create Strategy
          </button>
        </div>
        <div class="hero-stats">
          <div class="stat-item">
            <div class="stat-number">4</div>
            <div class="stat-label">Active Segments</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">1,247</div>
            <div class="stat-label">Customers Analyzed</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">89%</div>
            <div class="stat-label">Accuracy Rate</div>
          </div>
        </div>
      </div>

      <div class="hero-visual">
        <div class="hero-image">
          <div class="credit-score-card">
            <div class="score-circle">
              <div class="score-number">4</div>
              <div class="score-label">Segments</div>
            </div>
            <div class="score-details">
              <div class="score-change positive">
                <span class="material-symbols-rounded">trending_up</span>
                +1 new segment
              </div>
              <div class="score-date">Updated today</div>
            </div>
          </div>
          <div class="floating-card card-1">
            <span class="material-symbols-rounded">groups</span>
            <div>AI Analysis</div>
          </div>
          <div class="floating-card card-2">
            <span class="material-symbols-rounded">insights</span>
            <div>Smart Strategy</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Background Elements -->
    <div class="hero-bg">
      <div class="bg-shape bg-shape-1"></div>
      <div class="bg-shape bg-shape-2"></div>
      <div class="bg-shape bg-shape-3"></div>
    </div>
  </section>

  <!-- Segment Overview Section -->
  <section class="features">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Segment Overview</h2>
        <p class="section-description">
          Visual breakdown of your customer portfolio across different risk and behavior segments
        </p>
      </div>

      <div class="segment-visualization">
        <div class="pie-chart-container">
          <div class="pie-chart">
            <div class="pie-segment segment-1" style="--clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 50% 100%);"></div>
            <div class="pie-segment segment-2" style="--clip-path: polygon(50% 50%, 100% 0%, 100% 100%, 50% 100%);"></div>
            <div class="pie-segment segment-3" style="--clip-path: polygon(50% 50%, 100% 100%, 50% 100%);"></div>
            <div class="pie-segment segment-4" style="--clip-path: polygon(50% 50%, 50% 100%, 0% 100%, 0% 0%, 50% 0%);"></div>
          </div>

          <div class="chart-legend">
            <div class="legend-item">
              <div class="legend-color" style="background: #10b981;"></div>
              <div>
                <div style="font-weight: 600; color: #1e293b;">Excellent (35%)</div>
                <div style="font-size: 0.875rem; color: #64748b;">Low risk, on-time payments</div>
              </div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #f59e0b;"></div>
              <div>
                <div style="font-weight: 600; color: #1e293b;">Good (28%)</div>
                <div style="font-size: 0.875rem; color: #64748b;">Moderate risk, occasional delays</div>
              </div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #ef4444;"></div>
              <div>
                <div style="font-weight: 600; color: #1e293b;">Risky (22%)</div>
                <div style="font-size: 0.875rem; color: #64748b;">High risk, frequent late payments</div>
              </div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #8b5cf6;"></div>
              <div>
                <div style="font-weight: 600; color: #1e293b;">Delinquent (15%)</div>
                <div style="font-size: 0.875rem; color: #64748b;">Very high risk, default probability</div>
              </div>
            </div>
          </div>
        </div>

        <div class="segment-filter">
          <select onchange="filterSegment()" id="segmentFilter">
            <option value="all">All Segments</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="risky">Risky</option>
            <option value="delinquent">Delinquent</option>
          </select>
          <button class="btn btn-primary" onclick="refreshSegmentation()">
            <span class="material-symbols-rounded">refresh</span>
            Refresh
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Segment Summary Cards -->
  <section class="how-it-works">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Segment Performance</h2>
        <p class="section-description">
          Key metrics and insights for each customer segment
        </p>
      </div>

      <div class="segment-summary">
        <div class="summary-card">
          <div class="summary-icon">
            <span class="material-symbols-rounded">star</span>
          </div>
          <div class="summary-content">
            <h3>Excellent</h3>
            <div class="summary-value">436</div>
            <div class="summary-comparison">35% of portfolio</div>
          </div>
        </div>

        <div class="summary-card">
          <div class="summary-icon">
            <span class="material-symbols-rounded">check_circle</span>
          </div>
          <div class="summary-content">
            <h3>Good</h3>
            <div class="summary-value">349</div>
            <div class="summary-comparison">28% of portfolio</div>
          </div>
        </div>

        <div class="summary-card">
          <div class="summary-icon">
            <span class="material-symbols-rounded">warning</span>
          </div>
          <div class="summary-content">
            <h3>Risky</h3>
            <div class="summary-value">274</div>
            <div class="summary-comparison">22% of portfolio</div>
          </div>
        </div>

        <div class="summary-card">
          <div class="summary-icon">
            <span class="material-symbols-rounded">error</span>
          </div>
          <div class="summary-content">
            <h3>Delinquent</h3>
            <div class="summary-value">188</div>
            <div class="summary-comparison">15% of portfolio</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Customer Table by Segment -->
  <section class="pricing">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Customer Analysis</h2>
        <p class="section-description">
          Detailed breakdown of customers within each segment with risk profiles and recommendations
        </p>
      </div>

      <table class="segment-table">
        <thead>
          <tr>
            <th>Customer Name</th>
            <th>Segment</th>
            <th>Risk Score</th>
            <th>Avg Payment Time</th>
            <th>Outstanding Amount</th>
            <th>Strategy</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Ahmed Hassan</td>
            <td><span class="segment-badge high-value">Excellent</span></td>
            <td>785</td>
            <td>5 days early</td>
            <td>$12,500</td>
            <td>Standard terms</td>
          </tr>
          <tr>
            <td>Sarah Johnson</td>
            <td><span class="segment-badge high-value">Excellent</span></td>
            <td>642</td>
            <td>On time</td>
            <td>$8,750</td>
            <td>Standard terms</td>
          </tr>
          <tr>
            <td>Mohamed Ali</td>
            <td><span class="segment-badge high-risk">Risky</span></td>
            <td>523</td>
            <td>12 days late</td>
            <td>$15,000</td>
            <td>Enhanced monitoring</td>
          </tr>
          <tr>
            <td>Lisa Chen</td>
            <td><span class="segment-badge slow-payers">Delinquent</span></td>
            <td>389</td>
            <td>30+ days late</td>
            <td>$6,200</td>
            <td>Collection priority</td>
          </tr>
          <tr>
            <td>David Wilson</td>
            <td><span class="segment-badge standard">Good</span></td>
            <td>456</td>
            <td>2 days early</td>
            <td>$32,000</td>
            <td>Standard terms</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Strategy Recommendations -->
  <section class="testimonials">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Segment-Based Strategies</h2>
        <p class="section-description">
          Tailored collection strategies and recommendations for each customer segment
        </p>
      </div>

      <div class="strategy-grid">
        <div class="strategy-card">
          <div class="strategy-header">
            <h3>Excellent Segment</h3>
            <div class="strategy-icon">
              <span class="material-symbols-rounded">star</span>
            </div>
          </div>
          <ul class="strategy-list">
            <li>Maintain standard payment terms</li>
            <li>Offer loyalty incentives for early payments</li>
            <li>Minimal collection efforts required</li>
            <li>Focus on relationship building</li>
          </ul>
        </div>

        <div class="strategy-card">
          <div class="strategy-header">
            <h3>Good Segment</h3>
            <div class="strategy-icon">
              <span class="material-symbols-rounded">check_circle</span>
            </div>
          </div>
          <ul class="strategy-list">
            <li>Gentle reminders 3 days before due date</li>
            <li>Offer flexible payment options</li>
            <li>Monitor for downward trends</li>
            <li>Provide payment history insights</li>
          </ul>
        </div>

        <div class="strategy-card">
          <div class="strategy-header">
            <h3>Risky Segment</h3>
            <div class="strategy-icon">
              <span class="material-symbols-rounded">warning</span>
            </div>
          </div>
          <ul class="strategy-list">
            <li>Enhanced monitoring and early intervention</li>
            <li>Require collateral or guarantees</li>
            <li>Frequent communication and follow-ups</li>
            <li>Consider credit limit adjustments</li>
          </ul>
        </div>

        <div class="strategy-card">
          <div class="strategy-header">
            <h3>Delinquent Segment</h3>
            <div class="strategy-icon">
              <span class="material-symbols-rounded">error</span>
            </div>
          </div>
          <ul class="strategy-list">
            <li>Immediate collection actions required</li>
            <li>Legal action preparation if needed</li>
            <li>Payment plan negotiations</li>
            <li>Consider write-off procedures</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <div class="footer-logo">
            <img src="logo.png" alt="Nebify" class="logo-img" />
            <span class="logo-text">Nebify</span>
          </div>
          <p class="footer-description">
            Optimize your credit strategy with AI-powered customer segmentation and targeted collection approaches.
          </p>
          <div class="social-links">
            <a href="#" class="social-link">
              <span class="material-symbols-rounded">facebook</span>
            </a>
            <a href="#" class="social-link">
              <span class="material-symbols-rounded">twitter</span>
            </a>
            <a href="#" class="social-link">
              <span class="material-symbols-rounded">linkedin</span>
            </a>
            <a href="#" class="social-link">
              <span class="material-symbols-rounded">instagram</span>
            </a>
          </div>
        </div>

        <div class="footer-section">
          <h4 class="footer-title">Product</h4>
          <ul class="footer-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="risk-analysis.html">Risk Analysis</a></li>
            <li><a href="collection-tools.html">Collection Tools</a></li>
            <li><a href="market-insights.html">Market Insights</a></li>
            <li><a href="customer-segmentation.html">Customer Segmentation</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4 class="footer-title">Company</h4>
          <ul class="footer-links">
            <li><a href="investment.html">Investment</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Blog</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4 class="footer-title">Support</h4>
          <ul class="footer-links">
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Security</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2024 Nebify. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="chatbot.js"></script>
  <script>
    // Authentication and navigation logic
    (function() {
      const isAuthed = localStorage.getItem('isAuthenticated') === 'true';
      const guestMenu = document.getElementById('navMenuGuest');
      const authMenu = document.getElementById('navMenuAuth');
      const guestActions = document.getElementById('guestActions');
      const authActions = document.getElementById('authActions');
      const logoutBtn = document.getElementById('logoutBtn');
      const drawerGuest = document.getElementById('drawerGuest');
      const drawerAuth = document.getElementById('drawerAuth');
      const drawerLogout = document.getElementById('drawerLogout');

      const applyState = (authed) => {
        if (authed) {
          if (guestMenu) guestMenu.style.display = 'none';
          if (authMenu) authMenu.style.display = '';
          if (guestActions) guestActions.style.display = 'none';
          if (authActions) authActions.style.display = 'flex';
          if (drawerGuest) drawerGuest.style.display = 'none';
          if (drawerAuth) drawerAuth.style.display = 'block';
        } else {
          if (guestMenu) guestMenu.style.display = '';
          if (authMenu) authMenu.style.display = 'none';
          if (guestActions) guestActions.style.display = 'flex';
          if (authActions) authActions.style.display = 'none';
          if (drawerGuest) drawerGuest.style.display = 'block';
          if (drawerAuth) drawerAuth.style.display = 'none';
        }
      };

      applyState(isAuthed);

      const doLogout = () => {
        localStorage.removeItem('isAuthenticated');
        applyState(false);
        window.location.href = 'index.html';
      };

      if (logoutBtn) logoutBtn.addEventListener('click', doLogout);
      if (drawerLogout) drawerLogout.addEventListener('click', doLogout);
    })();

    // Mobile drawer functionality
    (function() {
      const navToggle = document.getElementById('navToggle');
      const drawer = document.getElementById('mobileDrawer');
      const overlay = document.getElementById('drawerOverlay');
      const closeBtn = document.getElementById('drawerClose');
      const drawerLinks = document.querySelectorAll('.drawer-link');

      const openDrawer = () => {
        if (!drawer || !overlay) return;
        drawer.classList.add('open');
        overlay.classList.add('show');
        drawer.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      };

      const closeDrawer = () => {
        if (!drawer || !overlay) return;
        drawer.classList.remove('open');
        overlay.classList.remove('show');
        drawer.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      };

      if (navToggle) navToggle.addEventListener('click', openDrawer);
      if (closeBtn) closeBtn.addEventListener('click', closeDrawer);
      if (overlay) overlay.addEventListener('click', closeDrawer);
      drawerLinks.forEach(link => link.addEventListener('click', closeDrawer));
      window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeDrawer(); });
    })();

    // Customer segmentation specific functions
    function runSegmentation() {
      alert('Running AI-powered customer segmentation analysis... This would typically use machine learning algorithms to analyze customer behavior patterns and update segment classifications.');
    }

    function createStrategy() {
      alert('Opening strategy creation wizard... This would typically guide you through creating tailored collection strategies for each customer segment.');
    }

    function filterSegment() {
      const selectedSegment = document.getElementById('segmentFilter').value;
      const tableRows = document.querySelectorAll('.segment-table tbody tr');

      tableRows.forEach(row => {
        const segmentBadge = row.querySelector('.segment-badge');
        const segmentType = segmentBadge.textContent.toLowerCase();

        if (selectedSegment === 'all' || segmentType.includes(selectedSegment)) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }

    function refreshSegmentation() {
      alert('Refreshing customer segmentation data... This would typically re-run the AI analysis with the latest customer data and update all segments.');
    }
  </script>
</body>
</html>
